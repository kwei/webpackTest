"use strict";(self.webpackChunkwebpacktest=self.webpackChunkwebpacktest||[]).push([[475],{2:(e,t,r)=>{r.r(t),r.d(t,{default:()=>le});var n=r(379),o=r.n(n),a=r(795),i=r.n(a),l=r(569),c=r.n(l),u=r(565),s=r.n(u),d=r(216),p=r.n(d),m=r(589),f=r.n(m),g=r(958),b={};b.styleTagTransform=f(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=p();o()(g.Z,b);g.Z&&g.Z.locals&&g.Z.locals;var x=r(294),h=r(743),y=r(155),v=r(753),w=function(e){var t=e.record;return x.createElement("ul",{className:"ul-no-bullet"},t.length>0&&t.map((function(e,t){return x.createElement("li",{key:t,className:"record-item"},x.createElement("div",{className:"item"},x.createElement("div",{className:"record-item-input"},e.split(":")[0]),x.createElement("i",{className:"record-item-arrow"}),x.createElement("div",{className:"record-item-result"},e.split(":")[1])))})))};const k=x.memo(w);var E=function(e){return e.text};const S=x.memo(E);var N=function(e){var t=e.text;return x.createElement("div",{className:"info"},t.map((function(e,t){return x.createElement("span",{key:t},e)})))};const A=x.memo(N);var R=r(184),C=r.n(R),H=function(e){(0,h.I0)();var t=e.data,r=e.bgColor,n=e.action,o=e.actionName,a=e.isAlertVisible;return x.createElement("div",{className:C()("alert-block",{close:!a}),style:{backgroundColor:r}},x.createElement("div",{className:"alert-header"},t.header),x.createElement("div",{className:"alert-content"},t.content),x.createElement("div",{className:"alert-footer"},x.createElement("button",{className:"next-round-btn",value:"Next Round",onClick:n},o)))};const I=x.memo(H);var O=function(e){var t=(0,h.v9)((function(e){return e.alertReducer.winningStep}),h.wU),r=e.isAlertVisible;return x.createElement("div",{className:"modal-alert"},x.createElement(I,{data:{header:"遊戲獲勝",content:"一共花了 ".concat(t," 步。")},bgColor:"#f3ebb6",actionName:"重新一局",isAlertVisible:r,action:e.action}))};const T=x.memo(O);var G=r(578),j=function(e){var t=e.onClick,r=e.value;return x.createElement("button",{onClick:t,id:"Generate"},r," ",x.createElement(G.p9r,{style:{transform:"translateY(2px)"}}))};const M=x.memo(j);var U=r(126),L=r(837),P=function(e){for(var t,r=e.length;0!==r;){t=Math.floor(Math.random()*r),r--;var n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]}return e},_=r(849),W=r(723);const z=JSON.parse('{"general.local.inputNumber.placeHolder":"請輸入 4 個不重複的數字","general.opening.inputName.placeHolder":"請輸入欲顯示之名稱","general.opening.inputRoom.placeHolder":"請輸入派對房間代碼","general.bestStep":"您目前最快步數： {count}","general.restart":"重新開始","general.newRound":"新的一局!","general.title":"幾 A 幾 B","general.btn.localMode":"離線模式","general.btn.partyMode":"派對模式","general.btn.cancel":"取消","general.btn.confirm":"確認","general.default.score":"尚無紀錄","general.clean.playingHistory":"清除紀錄","general.goBack.menu":"回到選單","general.opening.inputName.label":"名稱","general.opening.inputRoom.label":"代碼","general.default.playerName":"匿名玩家","alert.local.clean.playingHistory":"確定要清除遊玩紀錄?","error.invalid.inputNumber":"請輸入 4 個\'不重複\'的數字","error.invalid.inputRoom":"只能輸入數字","alert.local.win":"遊戲獲勝! 一共花了 {count} 步。","alert.local.title":"遊戲獲勝","alert.local.content":"一共花了 {count} 步"}');function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z=function(e,t){var r=z[e];return Object.entries(t).forEach((function(e){var t=B(e,2),n=t[0],o=t[1];r=r.replace("{"+n+"}",o)})),r};function V(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return J(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Q=(0,U.K)(),q=(0,L.Y)({className:"MainPage"}),D=Z("general.local.inputNumber.placeHolder",{}),F=W.O.GAME.RULE,X=Q.loadAll({initTarget:P(W.O.GAME.NUMBER_RANGE).slice(0,4).join(""),initRecord:[],initStep:0,initIsWinning:!1,initPlayingHistory:"",initHighestScore:Z("general.default.score",{})}),ee=X.initTarget,te=X.initRecord,re=X.initStep,ne=X.initIsWinning,oe=X.initPlayingHistory,ae=X.initHighestScore;q.verbose("Init target         : ".concat(ee)),q.verbose("Init record         : ".concat(te)),q.verbose("Init count          : ".concat(re)),q.verbose("Init isWin          : ".concat(ne)),q.verbose("Init highestScore   : ".concat(ae)),q.verbose("Init playingHistory : ".concat(oe));var ie=function(){var e=(0,h.I0)(),t=K((0,x.useState)(""),2),r=t[0],n=t[1],o=K((0,x.useState)(""),2),a=o[0],i=o[1],l=K((0,x.useState)(!1),2),c=l[0],u=l[1],s=K((0,x.useState)(!0),2),d=s[0],p=s[1],m=K((0,x.useState)(ne),2),f=m[0],g=m[1],b=K((0,x.useState)(ee),2),w=b[0],E=b[1],N=K((0,x.useState)(te),2),R=N[0],C=N[1],H=K((0,x.useState)(ae),2),I=H[0],O=H[1],G=K((0,x.useState)(oe),2),j=G[0],U=G[1],L=(0,x.useRef)(re),z=(0,x.useRef)(!1),B=(0,x.useRef)(null),Y=(0,x.useRef)(null);(0,x.useEffect)((function(){z.current&&(J(),$(Z("general.newRound",{}),1500),q.verbose("New target number: ".concat(w)),Q.saveAll({currentTarget:w,currentRecord:[],currentStep:0,isWinning:!1,currentPlayingHistory:j,currentHighestScore:I})),z.current=!0}),[w]),(0,x.useEffect)((function(){z.current&&(Y.current.style.display=c?"block":"none"),z.current=!0}),[c]),(0,x.useEffect)((function(){f&&(p(!1),u(!0),e((0,v.YK)(L.current)),U(""!==j?j+","+L.current:L.current),(I===Z("general.default.score",{})||L.current<Number(I))&&(O(L.current),Q.setStorage(W.O.LOCAL.STORAGE.CURRENT_HIGHEST_SCORE,L.current)))}),[f]);var $=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;q.info("Notice: ".concat(e)),n(e),t&&setTimeout((function(){return n("")}),t)},J=function(){q.info("Reset states"),n(""),i(""),p(!0),g(!1),C([]),u(!1),L.current=0},X=function(){if(q.info("Compare answer"),!(0,_.m)(a)||V(new Set(a)).length<4)q.info("Invalid input"),$(Z("error.invalid.inputNumber",{}),1500);else{L.current++;var e=function(e){var t=0,r=0;return e.split("").map((function(e,n){e===w[n]?t++:w.includes(e)&&r++})),{a:t,b:r}}(a),t=e.a,r=e.b,n="".concat(a.split("").join(" "),":").concat(t," A ").concat(r," B");C([].concat(V(R),[n])),q.verbose("Current result ".concat(n)),Q.saveAll({currentTarget:w,currentRecord:[].concat(V(R),[n]).join(","),currentStep:L.current,isWinning:f,currentPlayingHistory:j,currentHighestScore:I}),4===t&&(q.info("Winning"),$(Z("alert.local.win",{count:L.current})),g(!0))}i(""),B.current.focus()},ie=(0,x.useCallback)((function(){q.info("New round"),E(P(W.O.GAME.NUMBER_RANGE).slice(0,4).join(""))}),[]);return x.createElement("div",{className:"container-main"},x.createElement("div",{ref:Y,id:"overlay",onClick:function(){u(!1)}},f&&x.createElement(T,{action:function(){return ie()},isAlertVisible:c})),x.createElement("div",{className:"rule-block"},x.createElement(A,{text:F})),x.createElement("div",{className:"input-block"},x.createElement("input",{type:"number",ref:B,value:a,disabled:!d,onChange:function(e){i(e.target.value.slice(0,4))},onKeyUp:function(e){"Enter"===e.key&&X()},placeholder:D}),x.createElement("i",{className:"enter",onClick:function(){return X()}},x.createElement(y.i3Q,null))),x.createElement("div",{className:"currentHighestScore"},Z("general.bestStep",{count:I}),x.createElement("a",{className:"clearStorage",onClick:function(){window.confirm(Z("alert.local.clean.playingHistory",{}))&&(q.info("Remove playing record"),Q.setStorage(W.O.LOCAL.STORAGE.PLAYING_HISTORY,""),Q.setStorage(W.O.LOCAL.STORAGE.CURRENT_HIGHEST_SCORE,Z("general.default.score",{})),O(Z("general.default.score",{})))}},Z("general.clean.playingHistory",{}))),x.createElement("div",{className:"button-area"},x.createElement(M,{onClick:function(){return ie()},value:Z("general.restart",{})})),x.createElement("div",{className:"notice-block"},x.createElement(S,{text:r})),x.createElement("div",{className:"record-block"},x.createElement(k,{record:R})))};const le=x.memo(ie)},958:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(81),o=r.n(n),a=r(645),i=r.n(a)()(o());i.push([e.id,".container-main{display:flex;flex-direction:column;height:100%;max-width:30%;min-width:350px;align-items:center;background:rgba(255,255,255,.77);border-radius:.5em;box-shadow:0 4px 30px rgba(86,86,86,.1),0 2px 15px rgba(112,112,112,.3);backdrop-filter:blur(5.6px);-webkit-backdrop-filter:blur(5.6px);border:1px solid #fff}.container-main.darken{background-color:#000;opacity:.5}.rule-block{min-width:290px;max-width:80%;border:2px solid #000;margin:30px 0 10px 0;padding:8px;border-radius:.5em;box-shadow:rgba(0,0,0,.16) 0 3px 6px,rgba(0,0,0,.23) 0 3px 6px}.rule-block:hover{box-shadow:rgba(0,0,0,.19) 0 10px 20px,rgba(0,0,0,.23) 0 6px 6px}.info{width:100%;word-wrap:break-word}.input-block{max-width:90%;min-width:190px;height:30px;margin:8px 18px 8px 8px;text-align:center;display:flex;flex-direction:row}.enter{width:24px;height:16px;margin:3px 0 3px -33px;cursor:pointer;text-align:center;padding:4px 0}.enter:hover{margin:2px 0 3px -33px}.currentHighestScore{font-size:10px;padding:2px;text-align:center}.playerName{cursor:pointer}.playerName:hover{color:#002bc7}.clearStorage{cursor:pointer;text-decoration:underline;margin:0 0 0 5px}.clearStorage:hover{color:#002bc7}.button-area{max-width:25vw;height:auto;margin:8px;text-align:center}#Generate{border-radius:.5em;padding:8px;background-color:#dcdcdc;border:2px solid #000;cursor:pointer}#Generate:hover{background-color:#e5e5e5}.notice-block{height:30px;padding:5px;color:red}.result-block{height:20px;padding:5px}.record-block{max-width:100%;display:flex;flex-direction:column;padding:5px;max-height:340px;overflow:auto;margin:0 0 10px 0}.record-block::-webkit-scrollbar{display:none}.ul-no-bullet{list-style-type:none;margin:0;padding:0}.record-item{height:20px;width:180px;padding:10px 15px;margin-top:-1px;align-items:center;text-align:center;background-color:#f5f5f5;border:1px solid #000;display:grid}.record-item:hover{background-color:#e3e3e3}.item{display:flex;flex-direction:row}.record-item-input{flex:1;cursor:default;margin:auto}.record-item-arrow{width:1px;height:1px;border:solid #000;border-width:0 3px 3px 0;display:inline-block;padding:3px;margin:auto;transform:rotate(-45deg)}.record-item-result{cursor:default;width:90px;margin:auto}.notification{visibility:hidden;height:34px;min-width:250px;background-color:#333;color:#fff;text-align:center;border-radius:.8em;padding:8px;position:fixed;z-index:1;left:calc(50% - 133px);bottom:30px;font-size:17px;display:flex;flex-direction:row}.notification.show{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}.notification-icon{text-align:center;margin:2px}.notification-title{padding:5px}.notification-body{padding:5px;overflow:hidden;text-overflow:ellipsis}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes popup{0%{transform:scale(0)}20%{transform:scale(1.1)}50%{transform:scale(0.95)}80%{transform:scale(1.05)}100%{transform:scale(1)}}.modal-alert{width:300px;max-width:100%;max-height:200px;overflow:hidden;position:absolute;cursor:default;top:40%;left:calc(50% - 150px)}.alert-block{z-index:999;background-color:#f3ebb6;display:flex;flex-direction:column;height:inherit;margin:auto;padding:8px;border-radius:.5em;border:2px solid #000;animation:popup .5s}.alert-block.close{display:none}.alert-header{width:auto;height:15px;padding:2px 5px 12px 5px;color:#363636;border-bottom:1px solid #5e5e5e;text-align:center}.alert-content{width:auto;margin:10px 0 10px 0;padding:5px 18px 5px 18px;word-wrap:break-word;text-align:center}.alert-footer{width:auto;height:auto;padding:2px 5px;text-align:center;margin:10px 0 0 0}.next-round-btn{border-radius:.5em;background-color:#fff;cursor:pointer}.next-round-btn:hover{background-color:#dcdcdc}#overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:2}",""]);const l=i}}]);